<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Online Health Checkup Booking</title>

  <!-- Bootstrap CSS -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" href="style.css">

  <style>
    body {
  background-color: #f7f9fb;
  font-family: 'Poppins', sans-serif;
}

form {
  border: 1px solid #ddd;
}

label {
  font-weight: 600;
}

  </style>
</head>

<body>
  <div class="container mt-5">
    <h2 class="text-center mb-4">Health Checkup Booking Form</h2>

    <form id="bookingForm" class="p-4 shadow-lg rounded bg-light">
      <div class="row g-3">
        <div class="col-md-6">
          <label for="fullName" class="form-label">Full Name</label>
          <input type="text" id="fullName" class="form-control" placeholder="Enter your full name">
          <small class="text-danger" id="nameError"></small>
        </div>

        <div class="col-md-6">
          <label for="phone" class="form-label">Phone Number</label>
          <input type="text" id="phone" class="form-control" placeholder="Enter 10-digit phone number">
          <small class="text-danger" id="phoneError"></small>
        </div>

        <div class="col-md-6">
          <label for="email" class="form-label">Email</label>
          <input type="email" id="email" class="form-control" placeholder="Enter your email">
          <small class="text-danger" id="emailError"></small>
        </div>

        <div class="col-md-6">
          <label for="age" class="form-label">Age</label>
          <input type="number" id="age" class="form-control" placeholder="Enter your age">
          <small class="text-danger" id="ageError"></small>
        </div>

        <div class="col-md-6">
          <label for="date" class="form-label">Preferred Date</label>
          <input type="date" id="date" class="form-control">
          <small class="text-danger" id="dateError"></small>
        </div>

        <div class="col-md-6">
          <label for="concern" class="form-label">Health Concern</label>
          <input type="text" id="concern" class="form-control" placeholder="e.g., Blood Test, General Checkup">
          <small class="text-danger" id="concernError"></small>
        </div>
      </div>

      <div class="text-center mt-4">
        <button type="submit" class="btn btn-success me-2">Submit</button>
        <button type="reset" class="btn btn-secondary">Reset</button>
      </div>

      <p id="successMessage" class="text-success mt-3 text-center"></p>
    </form>

    <div class="text-center mt-3">
      <a href="view_booking.html" class="btn btn-primary">View Bookings</a>
    </div>
  </div>

  <script>

document.getElementById("bookingForm").addEventListener("submit", function (e) {
  e.preventDefault();

  // Get form values
  const name = document.getElementById("fullName").value.trim();
  const phone = document.getElementById("phone").value.trim();
  const email = document.getElementById("email").value.trim();
  const age = document.getElementById("age").value.trim();
  const date = document.getElementById("date").value.trim();
  const concern = document.getElementById("concern").value.trim();

  // Error elements
  const errors = {
    nameError: "",
    phoneError: "",
    emailError: "",
    ageError: "",
    dateError: "",
    concernError: ""
  };

  // Validation
  let isValid = true;

  if (name === "") {
    errors.nameError = "Full name is required.";
    isValid = false;
  }

  if (!/^\d{10}$/.test(phone)) {
    errors.phoneError = "Phone must be exactly 10 digits.";
    isValid = false;
  }

  if (!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(email)) {
    errors.emailError = "Invalid email format.";
    isValid = false;
  }

  if (age === "" || age < 1 || age > 120) {
    errors.ageError = "Age must be between 1 and 120.";
    isValid = false;
  }

  if (date === "") {
    errors.dateError = "Preferred date is required.";
    isValid = false;
  }

  if (concern === "") {
    errors.concernError = "Please enter a health concern.";
    isValid = false;
  }

  // Display errors
  Object.keys(errors).forEach(key => {
    document.getElementById(key).textContent = errors[key];
  });

  // If valid, store data
  if (isValid) {
    const booking = { name, phone, email, age, date, concern };
    let bookings = JSON.parse(localStorage.getItem("bookings")) || [];
    bookings.push(booking);
    localStorage.setItem("bookings", JSON.stringify(bookings));

    document.getElementById("successMessage").textContent = "Booking saved successfully!";
    document.getElementById("bookingForm").reset();

    setTimeout(() => {
      document.getElementById("successMessage").textContent = "";
    }, 3000);
  }
});
</script>
</html>
